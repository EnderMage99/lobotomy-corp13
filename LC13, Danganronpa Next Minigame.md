# Villains of the Night\!

## With the abnormalities being stuck deep underground for many days, there are moments of peace among them where they are able to converse and rest... And during one of these nights, Queen of Hatred came up with the most wonderful idea of how to pass the time. What if... They played a game of her own creation? Where all of them need to work together to find a “Villain” among them\! *Basically she made a rip off of mafia with a few extra rules but there was nothing better to do so the rest of the abnormalities just started playing along.* 

# Main Idea

Villains of the Night is a social deduction game like mafia, where 6-12 players are able to pick unique characters (Abnormalities) with their own talents to help them find the hidden “villain” among them\! At the start of each game, one player becomes the “villain” and is tasked with eliminating another player, while being able to trick the rest of the players. Along with all of the gameplay in this gamemode, another highlight of this gamemode is how you can RP as your abnormality, and have fun that way during the morning.

# Abnormalities

The core of the gamemode, the characters you get to play as\! They all have their own abilities which can help them find the “Villain”, or they could be used for other purposes…

So, once the game first start everyone will be transported into a room as humans and all of them will need to pick an playable abnormality, there can't be duplicates!

Once everyone picks an abnormality, they will spawn in a special mob that will take on the sprites of their picked abnormality. It will not have the playable abilities of that abnormality, but it will have all of the necessary functions for this game.

## Abilities

Normally each abnormality has 2 abilities. These abilities can be either active or passive.  
Passive abilities are simpler ones, they are constantly active throughout the game and give you some sort of buff.

Active abilities need to be selected during the nighttime phase, and normally they cost an action to use.

### Queen of Hatred

Active Ability, “Arcana Beats”  
***Protective***  
***Main Action***  
Pick a player, That player will be protected from Direct Eliminations for the night.

Passive Ability, “Hero of Love\!”  
You are 50% less likely to be chosen as the “Villain”

### Forsaken Murder

Active Ability, “Restrained Violence”  
***Suppressive***  
***Main Action***  
You can only target yourself with this Ability, and once you use this ability, the first player who targets you will have their action fail.

Passive Ability, “Paranoid”  
At the end of the night, you will learn the number of players who have targeted you.

### All Round Cleaner

Active Ability, “Room Cleaning”  
***Investigative***  
***Main Action***  
You can’t target yourself, and you talk and trade with your target for 2 minutes before stealing one random item from their inventory.

Passive Ability, “Night Cleaner”  
After the nighttime phase, you will gain one random item out of the list of items that were used tonight.

### Funeral of the Dead Butterflies

Active Ability, “Guidance”  
***Investigative***  
***Main Action***  
You target a player, and you will learn about everyone who has visited them tonight.

Passive Ability, “Mercy”  
At the start of the investigation phase, you will learn the amount of people who visited the eliminated player.

### Fairy Gentleman

Active Ability, “Fairy Brew”  
***Investigative***  
***Main or Secondary Action***  
You are only able to target yourself, and you will create a “Fairy Wine”, which is a ***Typeless / Secondary Action*** item which when used, “Talk and Trade with the target of your Main Action. When others check your main action, it will appear as a ‘Talk and Trade’” .

Passive Ability, “Outstanding Charisma”  
Whenever someone else uses “Fairy Wine”, you will become alerted that someone has used the wine and your main action will gain the effects of ‘Fairy Wine’.

### Puss in Boots

Active Ability, “Greetings, Master”  
***Protective***  
***Main Action***  
The targeted player gains your blessing, making them immune to direct eliminations. The blessing lasts forever until you use “Greetings, Master” on another player.

Passive Ability, “Inheritance”  
You are able to talk and trade with your blessed players as a Secondary Action.

### Der Freischütz

Active Ability, “Magic Bullet”  
***Elimination***  
***Main Action***  
*You can only use this action after making a “Elimination Contract”*  
Your target will be directly attacked by you. If you successfully kill them the person who accepted your “Elimination Contract” will become the “Villain” and this kill will be publicly announced as a Der Freischütz kill. Also, your win condition changes, where you don’t want the “Villain” to be voted out. If you complete your new win condition, you will stay in the game but you will win no matter what happens to you next.

 If the original “Villain” uses a direct elimination during the same night as you used “Magic Bullet”, they will gain priority.

Passive Ability, “Elimination Contract”  
While someone is talking and trading with you, you can offer them a “Elimination Contract.” If they accept, you will gain the ability to use “Magic Bullet.”

### Rudolta of the Sleigh

Passive Ability, “Observe”  
Once the evening phase starts, if you select a player other than yourself with “Watcher”, you will start “Observing” them. While you are “Observing” someone, you will be able to teleport to them and physically follow them. You can’t perform any actions while “Observing”

Passive Ability, “Watcher”  
You are unable to speak, remember that you can still emote. During the morning phase, to have an ability to select a player to “Observe” tonight. If you pick yourself, you will not “Observe” anyone. You can’t “Observe” the same person twice.

### Judgement Bird

Active Ability, “Judge”  
***Investigative***  
***Secondary Action***  
You check your target’s main action. If they perform an Investigative, Protective or Typeless action, you will get an “Innocent” result. However, if they perform a Suppressive or Elimination action, you will get a “Guilty” result.

Passive Ability, “Blind Eye”  
You are immune to ***Investigative*** and ***Suppressive*** items while using “Judge”

# Items

Items, they are ways to change up the round allowing you perform actions that you would not be able to do normally. Letting you Learn, Suppress, ect... extra stuff during the night. Items all have their own type, cost, and effect.

## Enkephalin Detector

***Investigative***  
***Main Action***  
Learn your target’s targets for their main and secondary actions.

## Forcefield Projector

***Protective***  
***Main Action***  
You are only able to target yourself. Targeted player becomes immune to direct eliminations.

## 'DEEPSCAN' Kit

***Investigative***  
***Main Action***  
Learn your target’s main and secondary actions.

## Handheld Taser

***Suppressive***  
***Main Action***  
Your targeted player’s main action will fail tonight.

## Drain Monitor

***Investigative***  
***Main Action***  
Learn everyone who targeted your target.

## Keen-Sense Rangefinder

***Investigative***  
***Main Action***  
Learn all of the actions that targeted your target.

## W-Corp Teleporter

***Suppressive***  
***Main Action***  
Your target’s main action’s target will be randomized.

## Throwing Bola

***Suppressive***  
***Secondary Action***  
Your targeted player’s secondary action will fail tonight.

## Nitrile Gloves

***Suppressive***  
***Main Action***  
Steal a random item from the target's inventory. If they were using that item, their action will be canceled.

## Binoculars

***Investigative***  
***Main Action***  
Learn the target’s inventory

## Command Projector

***Investigative***  
***Secondary Action***  
Send a short message to a player, max of 100 letters.

# Game Phases

The game progresses though the following phases:  
Morning \- 5-10 minutes  
Evening \- 0-1 minutes  
Nighttime \- 0-8 minutes  

*If there was no elimination...*  
Repeat, starting with morning\!

*If there was an elimination...*  
Investigation \- 0-5 minutes.  
*Then... The trial phases start\!*  
Alibi \- 20-30 seconds per player.  
Discussion \- 8-14 minutes  
Final Voting \- 1 minute  
Final Results \- 1 minute

*After the trial, It returns back to the Morning phase.*

## Morning Phase

During this phase, All of the players are able to freely wander around the facility and talk with other players. Along with that, items will spawn around the facility which the players can search for. They are only able to pick up two items, but they can trade with other players to get other items. 

*This will work by making all of the brand new items as “Fresh.” At any given moment, the mob can’t hold more than 2 “Fresh” items, becoming unable to pick up other “Fresh” items. Items lose their “Fresh” condition during the evening phase.*

*Also, All items in this gamemode that can be used during nighttime will have a green outline, making them more easily identifiable.*

Also, as it starts reaching the 4 minute mark, the players are able to vote to extend the morning phase by another 5 minutes.

However if an elimination occurred during the last nighttime phase, the morning phase will not spawn any items and only lasts 1 minute before changing into the Investigation Phase.

## Evening Phase

During this phase, All of the players will be teleported into their cells and will be locked in until the Morning/Investigation phase. Also, during this phase they will gain a button which will appear on the top left corner of the screen (so a normal action) which when clicked will let them select their actions which will be performed during the nighttime phase. 

All players have 1 main action, (1 secondary action?) ~~and 4 free actions.~~

Actions also come in different types, affecting their priority during the night time phase. Here are all of the types and their priority during the night.

1. Suppressive   
2. Protective   
3. Investigative   
4. Typeless (Default)  
5. Elimination 

Here are some of the possible actions the players are able to perform, 

### Talk/Trade

Type: **Typeless**  
Cost: **Main Action**  
*Target another player, You will visit that player during the night and you will have 2 minutes to talk/trade with each other before you return to your room.*

### Use an Item

Type: **Varied**  
Cost: **Varied**   
*You will select an item in your inventory, heavy items cost 1 main action to use, medium items cost a secondary or main action to use. Also, Depending on which item you use, the type of this action will change.*

### Eliminate (Villain Only)

Type: **Elimination**   
Cost: **Main Action**  
*Select another player, you will attempt to perform a direct elimination on to the target.*

### Active Ability (Abnormality Unique)

Type: **Varied**  
Cost: **Varied**  
*The players will use the abnormalities active ability on the target player.*

Once all of the players submit their actions, everyone will move on to the Nighttime phase.

## Nighttime Phase

During this phase, All of the players remain locked in their rooms as their actions will be played out. Also when multiple players use an action of the same action class, they will be played out in the order of the player’s cell numbers.  
(For example, if there are 2 players using suppressive actions the player with the smaller cell number goes first).

*Actions that just give information will be instantly completed, and each action will be completed one after another following the order of operations below. However, there is a 5 second delay after each action.*

## Investigation Phase

During this phase, All of the players will be alerted of the player who has been eliminated last night. All of the items that were used last night will be spread out across the map and will have a yellow outline. When a player tries to pick up one of these items, they will instead be added to a public list which will be visible in the main room. (The center of the map.)

Once the Investigation Phase is over, there will be a brief moment of 2 minutes where all of the players will be teleported into the main room. The main room will be locked and closed, so this will be their chance to discuss the situation with each other before the Trial. After that the Trial Phases will begin starting with the Alibi Phase.

## Alibi Phase

During this phase, Each player one by one will be given 30 seconds to say their alibi on what they did last night. While one person is giving their alibi, the rest will be forced to whisper everything they say.

Once each person gives their alibi, the Discussion Phase will start.

## Discussion Phase

During this phase, All of the players will be able to talk with each other for a long amount of time, around 10 minutes.

Once the Discussion Phase is over, the Final Voting Phase will start.

## Final Voting Phase

During this phase, Everyone will have 1 minute to select a player who they believe to be the “Villain”. Once the voting ends, the Final Results Phase starts.

## Final Results Phase

During this phase, All of the votes will be tallied up and the most voted for player will be checked if they were the “Villain”.

If the players were correct, all of the non-“Villain” players would earn one \[Victory\] point, while the “Villain” loses.

If the players were incorrect or there is a tie, the “Villain” is revealed, and wins the game. While all of the non-“Villain” players will lose a \[Victory\] point (Can’t go below 0).

The players will be given a chance to talk with each other for 3-4 minutes before the “Villain” is removed from the game.

After the “Villain” is removed, if there are 4 or less living players remaining the game will end and if the players have at least one victory point, they will win the game. Otherwise, it repeats back into the morning phase and another random villain is chosen.

# Character Sheet UI

## Players have an action (button on the top left) which will open this sheet to them, which will be automatically filled out. If they press on the items, they will be able to drop them on to the ground.

# Evening Actions UI

## The players will be able to click on the \[Main Action\] button, which will give them a drop down menu of what actions they are able to perform. Once they select an action, they will be able to click on the \[Target Player\] button which will also give them a drop down menu of all the names of all living players (can including themselves), which can be targets of this action.

# Voting UI

## The players will be able to click on the player’s portrait’s which will cause you to vote for them. Once you click on them, they will gain a red outline.

Coding

1. HUD (Phases countdown)  
2. HUD Actions (Character sheet, Notebook/Will, Display an item)  
3. UIs (Character sheet, Evening )  
4. Map  
5. Player Mobs (Unique actions)  
6. Phases subsystem  
7. Items  
   1.   
8. Evening logic (actions, UI)  
   1. Trade/Talk  
   2. Use item  
   3. Eliminate  
   4. Abno unique  
9. Morning phase  
10. Investigation phase  
11. Game start (Vote to start, pick character)  
12. Voting phase  (UI)  
13. Game end

